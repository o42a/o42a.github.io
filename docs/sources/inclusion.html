<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>o42a Â» File Inclusion</title>

  <link rel="stylesheet" type="text/css" href="../../media/css/o42a.css" media="screen, projection" />
  <link rel="stylesheet" type="text/css" href="../../media/css/bootstrap.css" media="screen, projection" />
  <link rel="stylesheet" type="text/css" href="../../media/css/pygments.css" media="screen, projection" />

  
  <!-- Google Analytics -->
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-20313524-1']);
    _gaq.push(['_setDomainName', 'o42a.org']);
    _gaq.push(['_setAllowLinker', true]);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  

  <script type="text/javascript">
    var root_path = "../../";
  </script>
</head>
<body>
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <button
            id="magic-btn"
            type="button"
            class="btn btn-navbar"
            data-toggle="collapse"
            data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <div class="pull-right">
          <a
              class="brand"
              href="../../index.html">
            o42a Programming Language
          </a>
        </div>
        <div class="nav-collapse collapse">
          <ul class="nav">
            <li >
              <a href="../intro/features.html">
                Features
              </a>
            </li>
            <li class="active">
              <a href="../index.html">
                Documentation
              </a>
            </li>
            <li >
              <a href="../../devel/index.html">
                Development
              </a>
            </li>
            <li >
              <a href="../../downloads.html">
                Downloads
              </a>
            </li>
            <li>
              <a href="https://bitbucket.org/o42a/o42a/issues?status=new&amp;status=open">
                Issues
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  
    <div class="container-fluid">
      <ul class="breadcrumb">
            <li>
              <a href="../../index.html">o42a</a>
              <span class="divider">/</span>
            </li>
            <li>
              <a href="../index.html">Documentation</a>
              <span class="divider">/</span>
            </li>
            <li>
              <a href="./index.html">Source Files</a>
              <span class="divider">/</span>
            </li>
      </ul>
    </div>
  

  <div class="container-fluid">
     <div class="row-fluid">
  <div class="span9">
    <h1 id="file_inclusion">File Inclusion</h1>
<!--
Copyright (C) 2010,2011 Ruslan Lopatin.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled "GNU
Free Documentation License".
-->

<p>Normally, field definitions are included from external files automatically, once
these files reside in the proper locations and follow the
<a href="naming.html">naming conventions</a>.</p>
<p>But it is also possible to explicitly include the field definitions from
external files into the given position of the file. For that an inclusion
statement can be used, having the following syntax:</p>
<blockquote>
<p><code>'***' ['*'...] &lt;tag&gt; ['*'...]</code></p>
</blockquote>
<p>which means three or more asterisks ('<strong><code>***</code></strong>') followed by a <code>&lt;tag&gt;</code>,
optionally followed by an arbitrary number of asterisks.</p>
<p>The <code>&lt;tag&gt;</code> is a simple <a href="../syntax/names.html">name</a>, which is used to find the
content to include.</p>
<p>Tag is used to find a sections of source files, containing field definitions to
include at the given position.</p>
<p>Note, that the inclusion statement can only be used inside the top-level
definition of the source file. It can't be placed inside of imperative block or
nested fields defined in the source file.</p>
<p>Also, be aware, that if at least one inclusion statement present inside a source
file, then the normal automatic field definitions inclusion will be disabled and
all the definitions should be included explicitly.</p>
<h2 id="sections">Sections</h2>
<p>Source file may contain multiple sections, each starting with a
<a href="file.html#title">title</a>. Each section may be tagged with a simple tag
<a href="../syntax/names.html">name</a> or compound tag name consisting of simple names
separated by colons ('<code>:</code>'). The tag name is placed right after the underline of
the section title and optionally followed by a zero or more '<strong><code>=</code></strong>' signs.</p>
<p>All sections with the matching tag are searched for in all files in
corresponding source directory by inclusion statement, present in the owner
object's definition. Compound tags are used to include field definitions into
owner object's tagged definition sections.</p>
<p>An example of the file with multiple sections (file <code>signum/result.o42a</code>):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="codehilite"><pre>Result := integer
==== negative ===
= -1

Result := integer
==== positive ===
= 1

Result := integer
======== zero ===
= 0
</pre></div>
</td></tr></table>

<p>These field definitions can be included in the enclosing object
(file <code>signum.o42a</code>):</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre>Signum :=&gt; void
=============

Arg :=&lt; integer

Arg &gt; 0? *** positive *** ~~ `Result` is `1`. ~~
Arg &lt; 0? *** negative *** ~~ `Result` is `-1`. ~~
*** zero ***              ~~ `Result` is `0`. ~~
</pre></div>
</td></tr></table>

<p>The following limitations apply to section tags:</p>
<ul>
<li>Two sections of the same file can not have the same tag.</li>
<li>If the file has more than one section, then all sections should be tagged.</li>
<li>If the title of the subsequent section is exactly the same as the one of the
  preceding one, the title can be replaced with an empty line followed by underline.</li>
</ul>
  </div>
  <div class="span3 well">
    <ul class="nav nav-list">
  <li class=" nav-header">
      <a href="../intro/index.html">Introduction</a>
  </li>
  
  <li class=" nav-header">
      <a href="../syntax/index.html">Basic Syntax</a>
  </li>
  
  <li class=" nav-header">
      <a href="../objects/index.html">Objects</a>
  </li>
  
  <li class=" nav-header">
      <a href="../expressions/index.html">Expressions</a>
  </li>
  
  <li class=" nav-header">
      <a href="../sentences/index.html">Sentences</a>
  </li>
  
  <li class=" nav-header">
      <a href="../phrases/index.html">Phrases</a>
  </li>
  
  <li class=" nav-header">
      <a href="../core/index.html">Core Objects</a>
  </li>
  
  <li class=" nav-header">
      <a href="../sources/index.html">Source Files</a>
  </li>
  <li>
      <ul class="nav nav-list">
  <li class="">
      <a href="../sources/file.html">File Structure</a>
  </li>
  
  <li class="">
      <a href="../sources/naming.html">Naming Conventions</a>
  </li>
  
  <li class="active">
      <a href="../sources/inclusion.html">File Inclusion</a>
  </li>
  
  <li class="">
      <a href="../sources/o42ac.html">o42ac: an o42a Compiler</a>
  </li>
  
  </ul>
    </li>
  </ul>
  </div>
</div>
  </div>

  <footer class="footer">
    <div class="container-fluid">
      <p>
        Powered by <a href="http://markdoc.org/">Markdoc</a>
      </p>
      <ul class="footer-links">
        <li>
          <a href="../../imprint.html">Imprint</a>
        </li>
      </ul>
    </div>
  </footer>
  
  <script type="application/javascript" src="../../media/js/jquery.js"></script>
  <script type="application/javascript" src="../../media/js/bootstrap.js"></script>
  
</body>
</html>