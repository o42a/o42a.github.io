<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <title>o42a » Unary Operators</title>

  <link rel="stylesheet" type="text/css" href="../../media/css/o42a.css" media="screen, projection" />
  <link rel="stylesheet" type="text/css" href="../../media/css/bootstrap.css" media="screen, projection" />
  <link rel="stylesheet" type="text/css" href="../../media/css/pygments.css" media="screen, projection" />

  
  <!-- Google Analytics -->
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-20313524-1']);
    _gaq.push(['_setDomainName', 'o42a.org']);
    _gaq.push(['_setAllowLinker', true]);
    _gaq.push(['_trackPageview']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
  

  <script type="text/javascript">
    var root_path = "../../";
  </script>
</head>
<body>
  <div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container-fluid">
        <button
            id="magic-btn"
            type="button"
            class="btn btn-navbar"
            data-toggle="collapse"
            data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <div class="pull-right">
          <a
              class="brand"
              href="../../index.html">
            o42a Programming Language
          </a>
        </div>
        <div class="nav-collapse collapse">
          <ul class="nav">
            <li >
              <a href="../intro/features.html">
                Features
              </a>
            </li>
            <li class="active">
              <a href="../index.html">
                Documentation
              </a>
            </li>
            <li >
              <a href="../../devel/index.html">
                Development
              </a>
            </li>
            <li >
              <a href="../../downloads.html">
                Downloads
              </a>
            </li>
            <li>
              <a href="https://bitbucket.org/o42a/o42a/issues?status=new&amp;status=open">
                Issues
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
  
    <div class="container-fluid">
      <ul class="breadcrumb">
            <li>
              <a href="../../index.html">o42a</a>
              <span class="divider">/</span>
            </li>
            <li>
              <a href="../index.html">Documentation</a>
              <span class="divider">/</span>
            </li>
            <li>
              <a href="./index.html">Expressions</a>
              <span class="divider">/</span>
            </li>
      </ul>
    </div>
  

  <div class="container-fluid">
     <div class="row-fluid">
  <div class="span9">
    <h1 id="unary_operators">Unary Operators</h1>
<!--
Copyright (C) 2010-2013 Ruslan Lopatin.
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3
or any later version published by the Free Software Foundation;
with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
A copy of the license is included in the section entitled "GNU
Free Documentation License".
-->

<p>The following prefix unary operators supported:</p>
<hr />
<table>
<thead>
<tr>
<th></th>
<th></th>
<th>Arithmetic operators</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>+</code></td>
<td></td>
<td><strong>Plus</strong>. Returns unchanged value for numeric operand. Can be <a href="../phrases/operators.html#unary_operators">overridden</a>.</td>
</tr>
<tr>
<td><code>-</code></td>
<td><code>−</code> (U+2212)</td>
<td><strong>Minus</strong>. Returns negated value for numeric operand. Can be <a href="../phrases/operators.html#unary_operators">overridden</a>.</td>
</tr>
</tbody>
</table>
<hr />
<table>
<thead>
<tr>
<th></th>
<th></th>
<th>Logical Operators</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--</code></td>
<td><code>¬</code> (U+00AC)</td>
<td><strong>Logical NOT</strong>. Negates the logical value and discards the value itself. The result has a <code>void</code> type.</td>
</tr>
<tr>
<td><code>++</code></td>
<td></td>
<td><strong>Logical value</strong>. Discards the value and leaves the logical value unchanged. The result has a <code>void</code> type.</td>
</tr>
</tbody>
</table>
<hr />
<table>
<thead>
<tr>
<th></th>
<th>Other operators</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>\</code></td>
<td><strong><a href="#valuje_of">Value of</a></strong>. Extracts the value from any object.</td>
</tr>
<tr>
<td><code>\\</code></td>
<td><strong><a href="#keep_value">Keep value</a></strong>. Extracts the value, stores it, and returns on subsequent executions.</td>
</tr>
<tr>
<td><code>#</code></td>
<td><strong><a href="../core/macros.html#macro_expansion">Macro expansion</a></strong>.</td>
</tr>
</tbody>
</table>
<hr />
<p>Only arithmetic operators can be overridden.</p>
<h3 id="value_of">Value Of</h3>
<p>The <em>value of</em> operator is a convenience expression to extract the value from
any object. The same effect can be achieved by other means, but the resulting
expression will be longer.</p>
<p>The operator can be used in situation like this:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>C := \(a + b)
</pre></div>
</td></tr></table>

<p>This declares a field <code>C</code>, which value is a sum of <code>A</code> and <code>B</code>.
Given the <code>A</code> and <code>B</code> are integers, this can be written other way:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>C := integer (= a + b)
</pre></div>
</td></tr></table>

<p>This means exactly the same, but is longer and involves an explicit type
specification, while the shorter form works for any type of value.</p>
<p>Note how the <em>value of</em> operator differs from it's operand. The similar
expression without operator:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>A := a + b
</pre></div>
</td></tr></table>

<p>means that <code>A</code> is inherited from the sum object, while the original declaration
makes the <code>A</code> inherited from <code>Integer</code>.</p>
<p>In some situations the <em>value of</em> operator is useless however. The following
statements mean exactly the same, and the <em>value of</em> operator usage is
redundant:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre>= a
= \a
</pre></div>
</td></tr></table>

<p>Also, it is necessary to be careful with this operator when using it within
links:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>A := `b
</pre></div>
</td></tr></table>

<p>The code above declares a link <code>A</code>, which target is an existing object <code>B</code>.
But if the <em>value of</em> operator used:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>A := `\b
</pre></div>
</td></tr></table>

<p>then the link <code>A</code> will be linked to a newly constructed object, which value is
the one of object <code>B</code>, which is not the same, and actually means:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>A := `integer (= B)
</pre></div>
</td></tr></table>

<h3 id="keep_value">Keep Value</h3>
<p>Object values are stateless by default. This means that the object value is
evaluated each time it is requested, unless the object value is mutable (like
variable or array). But this is not always the desired behavior.</p>
<p>With a <em>keep value</em> operator it is possible to preserve the once evaluated value
and return it on subsequent requests.</p>
<p>Here is a usage example:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre>Left := \\a
Right := \\b
Print [left] &#39; + &#39; [right] &#39; = &#39; [left + right] nl
</pre></div>
</td></tr></table>

<p>Note that each of the operands is evaluated only once. In contrast, the
following code:</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre>Print [a] &#39; + &#39; [b] &#39; = &#39; [a + b] nl
</pre></div>
</td></tr></table>

<p>evaluates each of them twice. This may cause a significant decrease in case of
heavy operand value evaluation. Also, this may lead to incorrect results in case
the operand value evaluation has side effects or may change on subsequent
evaluations (e.g. is random).</p>
<blockquote>
<p>Note that any statements can be executed both in the scope of the declaring
object and in the scopes of its descendants, and any field used by these
statements can change its value definition if overridden. Thus, the
light-weight formula may become a heavy-weight one. So, avoid addressing the
same field's value more than once. Rather keep its value and use a kept one.</p>
</blockquote>
<h2 id="operators_precedence">Operators Precedence</h2>
<p>Unary operators has lower precedence than <a href="references.html">reference</a>
qualifiers, and higher precedence than <a href="binary.html">binary operators</a>.</p>
  </div>
  <div class="span3 well">
    <ul class="nav nav-list">
  <li class=" nav-header">
      <a href="../intro/index.html">Introduction</a>
  </li>
  
  <li class=" nav-header">
      <a href="../syntax/index.html">Basic Syntax</a>
  </li>
  
  <li class=" nav-header">
      <a href="../objects/index.html">Objects</a>
  </li>
  
  <li class=" nav-header">
      <a href="../expressions/index.html">Expressions</a>
  </li>
  <li>
      <ul class="nav nav-list">
  <li class="">
      <a href="../expressions/references.html">References</a>
  </li>
  
  <li class="active">
      <a href="../expressions/unary.html">Unary Operators</a>
  </li>
  
  <li class="">
      <a href="../expressions/binary.html">Binary Operators</a>
  </li>
  
  </ul>
    </li>
  <li class=" nav-header">
      <a href="../sentences/index.html">Sentences</a>
  </li>
  
  <li class=" nav-header">
      <a href="../phrases/index.html">Phrases</a>
  </li>
  
  <li class=" nav-header">
      <a href="../core/index.html">Core Objects</a>
  </li>
  
  <li class=" nav-header">
      <a href="../sources/index.html">Source Files</a>
  </li>
  
  </ul>
  </div>
</div>
  </div>

  <footer class="footer">
    <div class="container-fluid">
      <p>
        Powered by <a href="http://markdoc.org/">Markdoc</a>
      </p>
      <ul class="footer-links">
        <li>
          <a href="../../imprint.html">Imprint</a>
        </li>
      </ul>
    </div>
  </footer>
  
  <script type="application/javascript" src="../../media/js/jquery.js"></script>
  <script type="application/javascript" src="../../media/js/bootstrap.js"></script>
  
</body>
</html>